<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">

<dom-module id="announce-block">
  <template>
    <style include="shared-styles"></style>
    <style>
      :host {
        display: block;
      }

      .container {
        @apply(--layout-horizontal);
        @apply(--layout-center-center);
        @apply(--layout-wrap);
      }

      .logo {
        width: 160px;
        height: 50px;
      }

      .logo-annotation {
        text-align: center;
      }

      @media (max-width: 600px) {
        .container > * {
          @apply(--layout-flex);
          padding: 0 10px;
        }
        .block-link-wrapper {
          margin-top: 20px;
          flex-basis: 100% !important;
          text-align: center;
        }
      }

      @media (max-width: 960px) {
        .container {
          @apply(--layout-around-justified);
        }
      }

      @media (min-width: 961px) {
        .logo-annotation {
          @apply(--layout-self-center);
          margin: 0 80px;
          font-size: 22px;
        }
      }
    </style>
    <div class="container container-narrow">
      <iron-image class="logo" src="{$ baseUrl $}/images/dfua16-logo.svg" sizing="contain" preload fade></iron-image>
      <div class="logo-annotation">Join us on September 09-10, Lviv</div>
      <div class="block-link-wrapper">
        <a class="block-link" href="{$ url $}" target="_blank">
          <paper-button class="colorful" raised>Learn more</paper-button>
        </a>
      </div>
    </div>
  </template>
  <script>
    (function () {
      'use strict';

      class AnnounceBlock {
        beforeRegister() {
          let is = this.constructor.name.replace(/\W+/g, '-')
            .replace(/([a-z\d])([A-Z])/g, '$1-$2').toLowerCase();
          this.is = is;
          this.properties = {
            mailchimpUrl: String,
            mailchimpName: String
          };
        }
      }

      Polymer(AnnounceBlock);
    })();
  </script>
</dom-module>
